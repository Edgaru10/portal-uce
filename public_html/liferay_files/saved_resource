YUI.add("event-touch",function(e,t){var n="scale",r="rotation",i="identifier",s=e.config.win,o={};e.DOMEventFacade.prototype._touch=function(t,s,o){var u,a,f,l,c;if(t.touches){this.touches=[],c={};for(u=0,a=t.touches.length;u<a;++u)l=t.touches[u],c[e.stamp(l)]=this.touches[u]=new e.DOMEventFacade(l,s,o)}if(t.targetTouches){this.targetTouches=[];for(u=0,a=t.targetTouches.length;u<a;++u)l=t.targetTouches[u],f=c&&c[e.stamp(l,!0)],this.targetTouches[u]=f||new e.DOMEventFacade(l,s,o)}if(t.changedTouches){this.changedTouches=[];for(u=0,a=t.changedTouches.length;u<a;++u)l=t.changedTouches[u],f=c&&c[e.stamp(l,!0)],this.changedTouches[u]=f||new e.DOMEventFacade(l,s,o)}n in t&&(this[n]=t[n]),r in t&&(this[r]=t[r]),i in t&&(this[i]=t[i])},e.Node.DOM_EVENTS&&e.mix(e.Node.DOM_EVENTS,{touchstart:1,touchmove:1,touchend:1,touchcancel:1,gesturestart:1,gesturechange:1,gestureend:1,MSPointerDown:1,MSPointerUp:1,MSPointerMove:1}),s&&"ontouchstart"in s&&!(e.UA.chrome&&e.UA.chrome<6)?(o.start="touchstart",o.end="touchend",o.move="touchmove",o.cancel="touchcancel"):s&&"msPointerEnabled"in s.navigator?(o.start="MSPointerDown",o.end="MSPointerUp",o.move="MSPointerMove",o.cancel="MSPointerCancel"):(o.start="mousedown",o.end="mouseup",o.move="mousemove",o.cancel="mousecancel"),e.Event._GESTURE_MAP=o},"patched-v3.11.0",{requires:["node-base"]});AUI.add("liferay-dockbar",function(q){var s=q.Object;var g=q.Lang;var h=Liferay.Util;var t=q.getBody();var l="lfr-has-add-content";var p="lfr-has-edit-layout";var v="dockbar-item";var f="lfr-has-device-preview";var n="click";var b=".nav-account-controls";var d=".nav-add-controls";var e="addPanel";var u="editLayoutPanel";var k="previewPanel";var c='<div class="lfr-add-panel lfr-admin-panel" id="{0}" />';var o='<div class="lfr-admin-panel lfr-edit-layout-panel" id="{0}" />';var j='<div class="lfr-admin-panel lfr-device-preview-panel" id="{0}" />';var m='<div class="loading-animation" />';var a={init:function(x){var w=this;var z=q.one(x);if(z){w.dockBar=z;w._namespace=z.attr("data-namespace");Liferay.once("initDockbar",w._init,w);var y=z.on(["focus","mousemove","touchstart"],function(B){var C=B.target;var A=B.type;Liferay.fire("initDockbar");y.detach();if(themeDisplay.isSignedIn()&&!q.UA.touch){w._initInteraction(C,A)}});t.addClass("dockbar-ready");Liferay.on(["noticeHide","noticeShow"],w._toggleControlsOffset,w)}},getPanelNode:function(z){var w=this;var y=null;var x=i[z];if(x){y=x.node;if(!y){var A=w._namespace;var B=A+z+"Sidebar";y=q.one("#"+B);if(!y){y=q.Node.create(g.sub(x.tpl,[A]));y.plug(q.Plugin.ParseContent);t.prepend(y);y.set("id",B);x.node=y}}}return y},togglePreviewPanel:function(){var w=this;a._togglePanel(k)},toggleAddPanel:function(){var w=this;a._togglePanel(e)},toggleEditLayoutPanel:function(){var w=this;a._togglePanel(u)},_registerPanels:function(){var w=this;var x=w._namespace;s.each(i,function(B,y,C){var z=B.id;var A=q.one("#"+x+z);if(A){A.on(n,function(D){D.halt();w._togglePanel(z)})}})},_setLoadingAnimation:function(x){var w=this;w.getPanelNode(x).html(m)},_toggleAppShortcut:function(x,y){var w=this;x.toggleClass("lfr-portlet-used",y);w._addContentNode.focusManager.refresh()},_toggleControlsOffset:function(z){if(!z.useAnimation){var w=this;var A=false;if(z.type==="noticeShow"){A=true}var y=w._namespace;var B=q.one("#"+y+"navAccountControls");B.toggleClass("nav-account-controls-notice",A);var x=q.one("#"+y+"navAddControls");x.toggleClass("nav-add-controls-notice",A)}},_togglePanel:function(A){var w=this;s.each(i,function(D,C,E){if(D.id!==A){t.removeClass(D.css);if(D.node){D.node.hide();t.detach("layoutControlsEsc|key")}}});var y=i[A];if(y){var z=y.node;if(!z){z=w.getPanelNode(y.id)}t.toggleClass(y.css);var B="dockbarHidePanel";var x=false;if(z&&t.hasClass(y.css)){y.showFn(A);B="dockbarShowPanel";x=true;t.on("layoutControlsEsc|key",function(E){if(A!==k){w._togglePanel(A)}var C=q.one("#"+w._namespace+"navAddControls");if(C){var D;if(A==e){D=C.one(".site-add-controls > a")}else{if(A==u){D=C.one(".page-edit-controls > a")}else{if(A==k){D=C.one(".page-preview-controls > a")}}}if(D){D.focus()}}},"down:27")}Liferay.fire("dockbaraddpage:previewPageTitle",{data:{hidden:true}});Liferay.fire(B,{id:A});if(!x){t.detach("layoutControlsEsc|key")}z.toggle(x)}}};Liferay.provide(a,"_init",function(){var x=this;var A=x.dockBar;var z=x._namespace;Liferay.Util.toggleControls(A);x._toolbarItems={};Liferay.fire("initLayout");Liferay.fire("initNavigation");x._registerPanels();var y=q.oneNS(z,"#navSiteNavigationNavbarBtn");var w=q.one(Liferay.Data.NAV_SELECTOR);if(y&&w){y.on(n,function(B){y.toggleClass("open");w.toggleClass("open")})}Liferay.fire("dockbarLoaded")},["aui-io-request","liferay-node","liferay-store","node-focusmanager"]);Liferay.provide(a,"_initInteraction",function(C,D){var F=this;var A=F.dockBar;var y=A.one(b);var E=A.one(d);if(y){var z=y.one(".staging-bar");if(z){z.all("> li").addClass(v)}y.all("> li > a").get("parentNode").addClass(v)}if(t.hasClass("dockbar-split")){if(y){y.plug(Liferay.DockbarKeyboardInteraction)}if(E){E.plug(q.Plugin.NodeFocusManager,{circular:true,descendants:"li a",keys:{next:"down:39,40",previous:"down:37,38"}});E.focusManager.after("focusedChange",function(H){var G=this;if(!H.newVal){G.set("activeDescendant",0)}})}}else{if(E){var x=A.one(".brand");if(x){x.all("a").get("parentNode").addClass(v)}E.all("> li").addClass(v);A.plug(Liferay.DockbarKeyboardInteraction)}}if(D==="focus"){var B=C.ancestor(b);var w=C;if(B){w=B.one("li a")}w.blur();w.focus()}},["liferay-dockbar-keyboard-interaction","node-focusmanager"]);Liferay.provide(a,"_showPanel",function(y){var w=this;w._setLoadingAnimation(y);var x=q.one("#"+w._namespace+y);if(x){var z=x.ancestor().attr("data-panelURL");q.io.request(z,{after:{success:function(C,E,D){var B=this.get("responseData");var A=w.getPanelNode(y);A.plug(q.Plugin.ParseContent);A.setContent(B)}}})}},["aui-io-request","aui-parse-content","event-outside"]);var r=q.bind("_showPanel",a);var i={addPanel:{css:l,id:e,node:null,showFn:r,tpl:c},editLayoutPanel:{css:p,id:u,node:null,showFn:r,tpl:o},previewPanel:{css:f,id:k,node:null,showFn:r,tpl:j}};Liferay.Dockbar=a;Liferay.Dockbar.ADD_PANEL=e;Liferay.Dockbar.PREVIEW_PANEL=k},"",{requires:["aui-node","aui-overlay-mask-deprecated","event-touch"]});YUI.add("color-base",function(e,t){var n=/^#?([\da-fA-F]{2})([\da-fA-F]{2})([\da-fA-F]{2})(\ufffe)?/,r=/^#?([\da-fA-F]{1})([\da-fA-F]{1})([\da-fA-F]{1})(\ufffe)?/,i=/rgba?\(([\d]{1,3}), ?([\d]{1,3}), ?([\d]{1,3}),? ?([.\d]*)?\)/,s={HEX:"hex",RGB:"rgb",RGBA:"rgba"},o={hex:"toHex",rgb:"toRGB",rgba:"toRGBA"};e.Color={KEYWORDS:{black:"000",silver:"c0c0c0",gray:"808080",white:"fff",maroon:"800000",red:"f00",purple:"800080",fuchsia:"f0f",green:"008000",lime:"0f0",olive:"808000",yellow:"ff0",navy:"000080",blue:"00f",teal:"008080",aqua:"0ff"},REGEX_HEX:n,REGEX_HEX3:r,REGEX_RGB:i,re_RGB:i,re_hex:n,re_hex3:r,STR_HEX:"#{*}{*}{*}",STR_RGB:"rgb({*}, {*}, {*})",STR_RGBA:"rgba({*}, {*}, {*}, {*})",TYPES:s,CONVERTS:o,convert:function(t,n){var r=e.Color.CONVERTS[n.toLowerCase()],i=t;return r&&e.Color[r]&&(i=e.Color[r](t)),i},toHex:function(t){var n=e.Color._convertTo(t,"hex"),r=n.toLowerCase()==="transparent";return n.charAt(0)!=="#"&&!r&&(n="#"+n),r?n.toLowerCase():n.toUpperCase()},toRGB:function(t){var n=e.Color._convertTo(t,"rgb");return n.toLowerCase()},toRGBA:function(t){var n=e.Color._convertTo(t,"rgba");return n.toLowerCase()},toArray:function(t){var n=e.Color.findType(t).toUpperCase(),r,i,s,o;return n==="HEX"&&t.length<5&&(n="HEX3"),n.charAt(n.length-1)==="A"&&(n=n.slice(0,-1)),r=e.Color["REGEX_"+n],r&&(i=r.exec(t)||[],s=i.length,s&&(i.shift(),s--,n==="HEX3"&&(i[0]+=i[0],i[1]+=i[1],i[2]+=i[2]),o=i[s-1],o||(i[s-1]=1))),i},fromArray:function(t,n){t=t.concat();if(typeof n=="undefined")return t.join(", ");var r="{*}";n=e.Color["STR_"+n.toUpperCase()],t.length===3&&n.match(/\{\*\}/g).length===4&&t.push(1);while(n.indexOf(r)>=0&&t.length>0)n=n.replace(r,t.shift());return n},findType:function(t){if(e.Color.KEYWORDS[t])return"keyword";var n=t.indexOf("("),r;return n>0&&(r=t.substr(0,n)),r&&e.Color.TYPES[r.toUpperCase()]?e.Color.TYPES[r.toUpperCase()]:"hex"},_getAlpha:function(t){var n,r=e.Color.toArray(t);return r.length>3&&(n=r.pop()),+n||1},_keywordToHex:function(t){var n=e.Color.KEYWORDS[t];if(n)return n},_convertTo:function(t,n){if(t==="transparent")return t;var r=e.Color.findType(t),i=n,s,o,u,a;return r==="keyword"&&(t=e.Color._keywordToHex(t),r="hex"),r==="hex"&&t.length<5&&(t.charAt(0)==="#"&&(t=t.substr(1)),t="#"+t.charAt(0)+t.charAt(0)+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)),r===n?t:(r.charAt(r.length-1)==="a"&&(r=r.slice(0,-1)),s=n.charAt(n.length-1)==="a",s&&(n=n.slice(0,-1),o=e.Color._getAlpha(t)),a=n.charAt(0).toUpperCase()+n.substr(1).toLowerCase(),u=e.Color["_"+r+"To"+a],u||r!=="rgb"&&n!=="rgb"&&(t=e.Color["_"+r+"ToRgb"](t),r="rgb",u=e.Color["_"+r+"To"+a]),u&&(t=u(t,s)),s&&(e.Lang.isArray(t)||(t=e.Color.toArray(t)),t.push(o),t=e.Color.fromArray(t,i.toUpperCase())),t)},_hexToRgb:function(e,t){var n,r,i;return e.charAt(0)==="#"&&(e=e.substr(1)),e=parseInt(e,16),n=e>>16,r=e>>8&255,i=e&255,t?[n,r,i]:"rgb("+n+", "+r+", "+i+")"},_rgbToHex:function(t){var n=e.Color.toArray(t),r=n[2]|n[1]<<8|n[0]<<16;r=(+r).toString(16);while(r.length<6)r="0"+r;return"#"+r}}},"patched-v3.11.0",{requires:["yui-base"]});