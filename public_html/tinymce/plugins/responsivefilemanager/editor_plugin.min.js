(function(){tinymce.create("tinymce.plugins.ResponsiveFileManager",{init:function(n,t){function i(t){n.settings.external_filemanager_path.toLowerCase().indexOf(t.origin.toLowerCase())===0&&t.data.sender==="responsivefilemanager"&&(tinymce.activeEditor.execCommand("mceInsertContent",!1,t.data.html),tinymce.activeEditor.windowManager.close(tinymce.activeEditor.windowManager.params.mce_window_id),window.removeEventListener?window.removeEventListener("message",i,!1):window.detachEvent("onmessage",i))}function r(t){n.settings.external_filemanager_path.toLowerCase().indexOf(t.origin.toLowerCase())===0&&t.data.sender==="responsivefilemanager"&&(tinymce.activeEditor.windowManager.params.setUrl(t.data.url),tinymce.activeEditor.windowManager.close(tinymce.activeEditor.windowManager.params.mce_window_id),window.removeEventListener?window.removeEventListener("message",r,!1):window.detachEvent("onmessage",r))}function u(){var t,r,u,f,e,o;n.focus(!0);t="RESPONSIVE FileManager";typeof n.settings.filemanager_title!="undefined"&&n.settings.filemanager_title&&(t=n.settings.filemanager_title);r="key";typeof n.settings.filemanager_access_key!="undefined"&&n.settings.filemanager_access_key&&(r=n.settings.filemanager_access_key);u="";typeof n.settings.filemanager_sort_by!="undefined"&&n.settings.filemanager_sort_by&&(u="&sort_by="+n.settings.filemanager_sort_by);f="false";typeof n.settings.filemanager_descending!="undefined"&&n.settings.filemanager_descending&&(f=n.settings.filemanager_descending);e="";typeof n.settings.filemanager_subfolder!="undefined"&&n.settings.filemanager_subfolder&&(e="&fldr="+n.settings.filemanager_subfolder);o="";typeof n.settings.filemanager_crossdomain!="undefined"&&n.settings.filemanager_crossdomain&&(o="&crossdomain=1",window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i));win=n.windowManager.open({title:t,file:n.settings.external_filemanager_path+"dialog.php?type=4&descending="+f+u+e+o+"&lang="+n.settings.language+"&akey="+r,width:860,height:570,inline:1,resizable:!0,maximizable:!0})}function f(t,i,u,f){var e,o,s,h,c,l;urltype=2;u=="image"&&(urltype=1);u=="media"&&(urltype=3);e="RESPONSIVE FileManager";typeof n.settings.filemanager_title!="undefined"&&n.settings.filemanager_title&&(e=n.settings.filemanager_title);o="key";typeof n.settings.filemanager_access_key!="undefined"&&n.settings.filemanager_access_key&&(o=n.settings.filemanager_access_key);s="";typeof n.settings.filemanager_sort_by!="undefined"&&n.settings.filemanager_sort_by&&(s="&sort_by="+n.settings.filemanager_sort_by);h="false";typeof n.settings.filemanager_descending!="undefined"&&n.settings.filemanager_descending&&(h=n.settings.filemanager_descending);c="";typeof n.settings.filemanager_subfolder!="undefined"&&n.settings.filemanager_subfolder&&(c="&fldr="+n.settings.filemanager_subfolder);l="";typeof n.settings.filemanager_crossdomain!="undefined"&&n.settings.filemanager_crossdomain&&(l="&crossdomain=1",window.addEventListener?window.addEventListener("message",r,!1):window.attachEvent("onmessage",r));tinymce.activeEditor.windowManager.open({title:e,file:n.settings.external_filemanager_path+"dialog.php?type="+urltype+"&descending="+h+s+c+l+"&lang="+n.settings.language+"&akey="+o,width:860,height:570,resizable:!0,maximizable:!0,inline:1},{setUrl:function(i){var r=f.document.getElementById(t),u;r.value=n.convertURL(i);"fireEvent"in r?r.fireEvent("onchange"):(u=document.createEvent("HTMLEvents"),u.initEvent("change",!1,!0),r.dispatchEvent(u))}})}n.settings.file_browser_callback=f;n.addButton("responsivefilemanager",{title:"Browse files",image:t+"/img/insertfile.gif",shortcut:"Ctrl+E",onclick:u})}});tinymce.PluginManager.add("responsivefilemanager",tinymce.plugins.ResponsiveFileManager)})();
/*
//# sourceMappingURL=editor_plugin.min.js.map
*/